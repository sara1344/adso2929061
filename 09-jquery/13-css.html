<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>13 - CSS</title>
    <link rel="stylesheet" href="../css/styles.css">
    <style>
        :root {
            --color1: transparent;
            --color2: #4f5c6e;
            --color3: #d9edff;
        }

        figure.tictactoe {
            height: 400px;
            margin: 40px auto;
            width: 406px;
        }

        figure.tictactoe div.rowt {
            border: 2px solid var(--color2);
            display: inline-block;
            height: 120px;
            margin: -8px 0px 0px -5px;
            transition: all 0.2s ease-in;
            width: 120px;
        }

        figure.tictactoe div.rowt.mark {
            background: transparent;
        }

        figure.tictactoe div.rowt:nth-child(1) {
            border-color: var(--color1) var(--color2) var(--color2) var(--color1);
        }

        figure.tictactoe div.rowt:nth-child(2) {
            border-color: var(--color1) var(--color2) var(--color2) var(--color2);
        }

        figure.tictactoe div.rowt:nth-child(3) {
            border-color: var(--color1) var(--color1) var(--color2) var(--color2);
        }

        figure.tictactoe div.rowt:nth-child(4) {
            border-color: var(--color2) var(--color2) var(--color2) var(--color1);
        }

        figure.tictactoe div.rowt:nth-child(6) {
            border-color: var(--color2) var(--color1) var(--color2) var(--color2);
        }

        figure.tictactoe div.rowt:nth-child(7) {
            border-color: var(--color2) var(--color2) var(--color1) var(--color1);
        }

        figure.tictactoe div.rowt:nth-child(8) {
            border-color: var(--color2) var(--color2) var(--color1) var(--color2);
        }

        figure.tictactoe div.rowt:nth-child(9) {
            border-color: var(--color2) var(--color1) var(--color1) var(--color2);
        }

        figure.tictactoe div.rowt:hover {
            background-color: var(--color3);
            cursor: pointer;
        }

        /* - - - - - - - - - - - - - - - - - - - - - - - - - - - */
        figure.tictactoe div.rowt.cross {
            background: url(images/tictactoe/cross.png) no-repeat center;
        }

        figure.tictactoe div.rowt.circle {
            background: url(images/tictactoe/circle.png) no-repeat center;
        }

        /* - - - - - - - - - - - - - - - - - - - - - - - - - - - */
        figure.tictactoe.turn-cross div.rowt {
            cursor: url(images/tictactoe/cross-cur.png), pointer;
        }

        figure.tictactoe.turn-circle div.rowt {
            cursor: url(images/tictactoe/circle-cur.png), pointer;
        }

        /* - - - - - - - - - - - - - - - - - - - - - - - - - - - */
        button.btn-reset {
            background-color: var(--color2);
            border-radius: 4px;
            border: none;
            color: #fff;
            display: block;
            font-size: 1.2em;
            margin: 10px auto;
            padding: 10px;
            opacity: 0.8;
            transition: all 0.5s ease-in;
            width: 200px;
        }

        button.btn-reset:hover {
            cursor: pointer;
            opacity: 1;
        }

        /* - - - - - - - - - - - - - - - - - - - - - - - - - - - */
        figure.tictactoe div.rowt.markwin {
            background-color: #9eeb94;
        }

        figure.tictactoe div.rowt.markdraw {
            background-color: #f48b89;
        }
    </style>
</head>

<body class="jquery">
    <nav>
        <a href="index.html">
            <svg xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 448 512"><!--!Font Awesome Free 6.5.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2024 Fonticons, Inc.-->
                <path fill="#ffffff"
                    d="M9.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.2 288 416 288c17.7 0 32-14.3 32-32s-14.3-32-32-32l-306.7 0L214.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z" />
            </svg>
        </a>
    </nav>
    <main>
        <header>
            <h1>13 - CSS</h1>
            <h2>Manipula estilos CSS din√°micamente.</h2>

        </header>
        <section>
            <figure class="tictactoe turn-cross">
                <div class="rowt"></div>
                <div class="rowt"></div>
                <div class="rowt"></div>
                <div class="rowt"></div>
                <div class="rowt"></div>
                <div class="rowt"></div>
                <div class="rowt"></div>
                <div class="rowt"></div>
                <div class="rowt"></div>
            </figure>
            <button class="btn-reset"> Reset </button>
        </section>
    </main>
    <script src="js/jquery-3.7.1.min.js"></script>
    <script src="js/owl.carousel.min.js"></script>
    <script>
        // 13

        $(document).ready(function() {
            // Events
			$('body').on('click', 'div.rowt:not(.mark)', function(event) {
				event.preventDefault();
				if( $('figure.tictactoe').hasClass('turn-cross') ) {
					$(this).addClass('cross');
					$('figure.tictactoe').removeClass('turn-cross')
										  .addClass('turn-circle');
				} else {
					$(this).addClass('circle');
					$('figure.tictactoe').removeClass('turn-circle')
										  .addClass('turn-cross');
				}
				$(this).addClass('mark');
				if(!checkWinner()) {
					checkDraw();
				}
			});

			$('.btn-reset').click(function(event) {
				$('div.rowt').removeClass('mark')
							.removeClass('markwin')
							.removeClass('markdraw')
				            .removeClass('cross')
				            .removeClass('circle');
				$('figure.tictactoe').removeClass('turn-circle')
									  .addClass('turn-cross');
				$('h4').remove();
			});

			// Functions
			function checkWinner() {
				// X
				if($('div.rowt').eq(0).hasClass('cross') && 
				   $('div.rowt').eq(1).hasClass('cross') &&
				   $('div.rowt').eq(2).hasClass('cross')) {
						markWinners(0,1,2,'X');
						return true;
				}
				if($('div.rowt').eq(3).hasClass('cross') && 
				   $('div.rowt').eq(4).hasClass('cross') &&
				   $('div.rowt').eq(5).hasClass('cross')) {
						markWinners(3,4,5,'X');
						return true;
				}
				if($('div.rowt').eq(6).hasClass('cross') && 
				   $('div.rowt').eq(7).hasClass('cross') &&
				   $('div.rowt').eq(8).hasClass('cross')) {
						markWinners(6,7,8,'X');
						return true;
				}
				if($('div.rowt').eq(0).hasClass('circle') && 
				   $('div.rowt').eq(1).hasClass('circle') &&
				   $('div.rowt').eq(2).hasClass('circle')) {
						markWinners(0,1,2,'O');
						return true;
				}
				if($('div.rowt').eq(3).hasClass('circle') && 
				   $('div.rowt').eq(4).hasClass('circle') &&
				   $('div.rowt').eq(5).hasClass('circle')) {
						markWinners(3,4,5,'O');
						return true;
				}
				if($('div.rowt').eq(6).hasClass('circle') && 
				   $('div.rowt').eq(7).hasClass('circle') &&
				   $('div.rowt').eq(8).hasClass('circle')) {
						markWinners(6,7,8,'O');
						return true;
				}
				// Y
				if($('div.rowt').eq(0).hasClass('cross') && 
				   $('div.rowt').eq(3).hasClass('cross') &&
				   $('div.rowt').eq(6).hasClass('cross')) {
						markWinners(0,3,6,'X');
						return true;
				}
				if($('div.rowt').eq(1).hasClass('cross') && 
				   $('div.rowt').eq(4).hasClass('cross') &&
				   $('div.rowt').eq(7).hasClass('cross')) {
						markWinners(1,4,7,'X');
						return true;
				}
				if($('div.rowt').eq(2).hasClass('cross') && 
				   $('div.rowt').eq(5).hasClass('cross') &&
				   $('div.rowt').eq(8).hasClass('cross')) {
						markWinners(2,5,8,'X');
						return true;
				}
				if($('div.rowt').eq(0).hasClass('circle') && 
				   $('div.rowt').eq(3).hasClass('circle') &&
				   $('div.rowt').eq(6).hasClass('circle')) {
						markWinners(0,3,6,'O');
						return true;
				}
				if($('div.rowt').eq(1).hasClass('circle') && 
				   $('div.rowt').eq(4).hasClass('circle') &&
				   $('div.rowt').eq(7).hasClass('circle')) {
						markWinners(1,4,7,'O');
						return true;
				}
				if($('div.rowt').eq(2).hasClass('circle') && 
				   $('div.rowt').eq(5).hasClass('circle') &&
				   $('div.rowt').eq(8).hasClass('circle')) {
						markWinners(2,5,8,'O');
						return true;
				}
				// Diagonals
				if($('div.rowt').eq(0).hasClass('cross') && 
				   $('div.rowt').eq(4).hasClass('cross') &&
				   $('div.rowt').eq(8).hasClass('cross')) {
						markWinners(0,4,8,'X');
						return true;
				}
				if($('div.rowt').eq(2).hasClass('cross') && 
				   $('div.rowt').eq(4).hasClass('cross') &&
				   $('div.rowt').eq(6).hasClass('cross')) {
						markWinners(2,4,6,'X');
						return true;
				}
				if($('div.rowt').eq(0).hasClass('circle') && 
				   $('div.rowt').eq(4).hasClass('circle') &&
				   $('div.rowt').eq(8).hasClass('circle')) {
						markWinners(0,4,8,'O');
						return true;
				}
				if($('div.rowt').eq(2).hasClass('circle') && 
				   $('div.rowt').eq(4).hasClass('circle') &&
				   $('div.rowt').eq(6).hasClass('circle')) {
						markWinners(2,4,6,'O');
						return true;
				}
				return false;
			}

			function markWinners(i1,i2,i3,mk) {
				$('div.rowt').eq(i1).addClass('markwin');
				$('div.rowt').eq(i2).addClass('markwin');
				$('div.rowt').eq(i3).addClass('markwin');
				$('h3').html('<h3>WON THE: '+mk+'</h3>');
				$('div.rowt').addClass('mark');
			}

			function checkDraw(){
				if($('div.rowt.mark').length == 9) {
					$('h3').html('<h3>DRAW</h3>');
					$('div.rowt').addClass('markdraw');
				}
			}
        });
    </script>
</body>

</html>